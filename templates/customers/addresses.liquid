<div id="customer-area">

   <div class="action_link action_return note" id='return_to_account'>
      <a href="/account">&larr; {{ 'customer.account.return' | t }}</a>
   </div>

   <h1 class="form-header">{{ 'customer.addresses.title' | t }}</h1>

   <div class="action_top">
      <div id="action" class="action_link action_add note">
         <a class="button address-new-toggle" href="#">{{ 'customer.addresses.add_new' | t }}</a>
      </div>
   </div>

   <div id="AddressNewForm" class="customer_address edit_address customer-address-form hide">
      {% form 'customer_address', customer.new_address %}
         <h4 class="form-header">{{ 'customer.addresses.add_new' | t }}</h4>
         <p>
            <label for="address_first_name_new">{{ 'customer.addresses.first_name' | t }}</label>
            <input type="text" id="address_first_name_new" class="address_form" name="address[first_name]" value="{{form.first_name}}"  />
         </p>
         <p>
            <label for="address_last_name_new">{{ 'customer.addresses.last_name' | t }}</label>
            <input type="text" id="address_last_name_new" class="address_form" name="address[last_name]" value="{{form.last_name}}"  />
         </p>
         <p>
            <label for="address_company_new">{{ 'customer.addresses.company' | t }}</label>
            <input type="text" for="address_company_new" class="address_form" name="address[company]" value="{{form.company}}"  />
         </p>
         <p>
            <label for="address_address1_new">{{ 'customer.addresses.address1' | t }}</label>
            <input type="text" id="address_address1_new" class="address_form" name="address[address1]" value="{{form.address1}}"  />
         </p>
         <p>
            <label for="address_address2_new">{{ 'customer.addresses.address2' | t }}</label>
            <input type="text" id="address_address2_new" class="address_form" name="address[address2]" value="{{form.address2}}"  />
         </p>
         <p>
            <label for="address_city_new">{{ 'customer.addresses.city' | t }}</label>
            <input type="text" id="address_city_new" class="address_form" name="address[city]" value="{{form.city}}"  />
         </p>
         <p>
            <label for="address_country_new">{{ 'customer.addresses.country' | t }}</label>
            <select id="address_country_new" name="address[country]" data-default="{{form.country}}">{{ country_option_tags }}</select>
         </p>
         <div id="address_province_container_new" style="display:none">
            <p>
               <label for="address_province_new">{{ 'customer.addresses.province' | t }}</label>
               <select id="address_province_new" class="address_form" name="address[province]" data-default="{{form.province}}"></select>
            </p>
         </div>
         <p>
            <label for="address_zip_new">{{ 'customer.addresses.zip' | t }}</label>
            <input type="text" id="address_zip_new" class="address_form" name="address[zip]" value="{{form.zip}}"  />
         </p>
         <p>
            <label for="address_phone_new">{{ 'customer.addresses.phone' | t }}</label>
            <input type="text" id="address_phone_new" class="address_form" name="address[phone]" value="{{form.phone}}"  />
         </p>
         <p>
            {{ form.set_as_default_checkbox }} {{ 'customer.addresses.set_default' | t }}
         </p>
         <div class="action_bottom">
            <input class="button" type="submit" value="{{ 'customer.addresses.add' | t }}" />
            <span class="form-sub-action"> <a href="#" class="address-new-toggle">{{ 'customer.addresses.cancel' | t }}</a></span>
         </div>
      {% endform %}
   </div>

   <div id="address_tables">  
      {% paginate customer.addresses by 10 %}
      {% for address in customer.addresses %}
         <div class="address-table">
            <div id="view_address_{{address.id}}" class="customer_address">
               <p class="address_title">
                  {% if address == customer.default_address %}<span class="default-address">{{ 'customer.addresses.default' | t }}</span><br>{% endif %}  
               </p>
               <div class="single-address">
                  <p>{{ address.first_name }} {{address.last_name }}</p>
                  <p>{{ address.company }}</p>
                  <p>{{ address.street }}</p>
                  <p>{{ address.city }} {% if address.province_code %}, {{ address.province_code }}{% endif %}</p>
                  <p>{{ address.country }} {{ address.zip }}</p>
                  <p>{{ address.phone }}</p>
               </div>
               <p class="address_actions">
                  <a class="button secondary address-edit-toggle" data-form-id="{{ address.id }}" href="#">{{ 'customer.addresses.edit' | t }}</a>
                  <a class="button secondary address-delete" data-form-id="{{ address.id }}" data-confirm-message="{{ 'customer.addresses.delete_confirm' | t }}" href="#">{{ 'customer.addresses.delete' | t }}</a>
               </p>           
            </div>    
            <div id="edit_address_{{address.id}}" class="customer_address edit_address customer-address-form hide">
               {% form 'customer_address', address %}
                  <p>
                     <label for="address_first_name_{{form.id}}">{{ 'customer.addresses.first_name' | t }}</label>
                     <input type="text" id="address_first_name_{{form.id}}" class="address_form" name="address[first_name]" value="{{form.first_name}}"  />
                  </p>
                  <p>
                     <label for="address_last_name_{{form.id}}">{{ 'customer.addresses.last_name' | t }}</label>
                     <input type="text" id="address_last_name_{{form.id}}" class="address_form" name="address[last_name]" value="{{form.last_name}}"  />
                  </p>
                  <p>
                     <label for="address_company_{{form.id}}">{{ 'customer.addresses.company' | t }}</label>
                     <input type="text" id="address_company_{{form.id}}" class="address_form" name="address[company]" value="{{form.company}}"  />
                  </p>
                  <p>
                     <label for="address_address1_{{form.id}}">{{ 'customer.addresses.address1' | t }}</label>
                     <input type="text" id="address_address1_{{form.id}}" class="address_form" name="address[address1]" value="{{form.address1}}"  />
                  </p>
                  <p>
                     <label for="address_address2_{{form.id}}">{{ 'customer.addresses.address2' | t }}</label>
                     <input type="text" id="address_address2_{{form.id}}" class="address_form" name="address[address2]" value="{{form.address2}}"  />
                  </p>
                  <p>
                     <label for="address_city_{{form.id}}">{{ 'customer.addresses.city' | t }}</label>
                     <input type="text" id="address_city_{{form.id}}" class="address_form" name="address[city]" value="{{form.city}}"  />
                  </p>
                  <p>
                     <label for="address_country_{{form.id}}">{{ 'customer.addresses.country' | t }}</label>
                     <select id="address_country_{{form.id}}" class="address-country-option" data-form-id="{{ form.id }}"  name="address[country]" data-default="{{form.country}}">{{ country_option_tags }}</select>
                  </p>
                  <div id="address_province_container_{{form.id}}" style="display:none">
                     <label for="address_province_{{form.id}}">{{ 'customer.addresses.province' | t }}</label>
                     <select id="address_province_{{form.id}}" class="address_form" name="address[province]" data-default="{{form.province}}"></select>
                  </div>
                  <p>
                     <label for="address_zip_{{form.id}}">{{ 'customer.addresses.zip' | t }}</label>
                     <input type="text" id="address_zip_{{form.id}}" class="address_form" name="address[zip]" value="{{form.zip}}"  />
                  </p>
                  <p>
                     <label for="address_phone_{{form.id}}">{{ 'customer.addresses.phone' | t }}</label>
                     <input type="text" id="address_phone_{{form.id}}" class="address_form" name="address[phone]" value="{{form.phone}}"  />
                  </p>      
                  <p>
                     {{ form.set_as_default_checkbox }} {{ 'customer.addresses.set_default' | t }}
                  </p>
                  <div class="action_bottom">
                     <input class="button" type="submit" value="{{ 'customer.addresses.update' | t }}" />
                     <span class="form-sub-action"> <a href="#" class="text-link address-edit-toggle" data-form-id="{{ form.id }}">{{'customer.addresses.cancel'|t}}</a></span>
                  </div>        
               {% endform %}
            </div>
         </div><!-- end .address_table -->
      {% endfor %}

      {% if paginate.pages > 1 %}
         {% include 'pagination' %}
      {% endif %}  

      {% endpaginate %}
   </div><!-- end #address_tables -->

</div>


